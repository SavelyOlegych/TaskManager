(function(){"use strict";var t={1876:function(t,e,s){var o=s(5130),a=s(6768);function n(t,e){const s=(0,a.g2)("RouterView");return(0,a.uX)(),(0,a.Wv)(s)}var i=s(1241);const p={},u=(0,i.A)(p,[["render",n]]);var c=u,l=s(1387);const r=t=>((0,a.Qi)("data-v-a751f248"),t=t(),(0,a.jt)(),t),k={class:"main"},d=r((()=>(0,a.Lk)("h1",{class:"main__title"},"Task manager",-1)));function m(t,e,s,o,n,i){const p=(0,a.g2)("CommonButton");return(0,a.uX)(),(0,a.CE)("main",k,[d,(0,a.bF)(p,{class:"main__tasks-link",href:"/tasks"},{default:(0,a.k6)((()=>[(0,a.eW)(" TASKS ")])),_:1})])}var b=s(4232);function _(t,e,s,o,n,i){const p=(0,a.g2)("RouterLink");return s.href?((0,a.uX)(),(0,a.Wv)(p,{key:0,class:(0,b.C4)("button button--"+s.theme),to:s.href},{default:(0,a.k6)((()=>[(0,a.RG)(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","to"])):((0,a.uX)(),(0,a.CE)("button",{key:1,class:(0,b.C4)("button button--"+s.theme),type:"button"},[(0,a.RG)(t.$slots,"default",{},void 0,!0)],2))}var v={name:"CommonButton",props:{href:{type:String,default:""},theme:{type:String,default:"light"}}};const f=(0,i.A)(v,[["render",_],["__scopeId","data-v-424df633"]]);var C=f,h={name:"MainPage",components:{CommonButton:C}};const P=(0,i.A)(h,[["render",m],["__scopeId","data-v-a751f248"]]);var T=P;const g=t=>((0,a.Qi)("data-v-532c1ce2"),t=t(),(0,a.jt)(),t),E={class:"tasks container"},V={class:"tasks__top"},I=g((()=>(0,a.Lk)("h1",{class:"tasks__title"},"Your tasks",-1)));function L(t,e,s,n,i,p){const u=(0,a.g2)("CreateIcon"),c=(0,a.g2)("ActionButton"),l=(0,a.g2)("TasksList"),r=(0,a.g2)("CreatePopup"),k=(0,a.g2)("CommonPopup");return(0,a.uX)(),(0,a.CE)("main",E,[(0,a.Lk)("div",V,[I,(0,a.bF)(c,{class:"tasks__create-button",title:"Create task",onClick:e[0]||(e[0]=t=>n.setIsCreatePopupVisible(!0))},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1})]),(0,a.bF)(l),(0,a.bF)(o.eB,{name:"fade"},{default:(0,a.k6)((()=>[n.isCreatePopupVisible?((0,a.uX)(),(0,a.Wv)(k,{key:0,onClosePopup:e[1]||(e[1]=t=>n.setIsCreatePopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"tasks__create-popup"})])),_:1})):(0,a.Q3)("",!0)])),_:1})])}const A={key:0,class:"tasks__list"},D={key:1,class:"tasks__no-tasks"};function y(t,e,s,n,i,p){const u=(0,a.g2)("TasksListItem"),c=(0,a.g2)("EditPopup"),l=(0,a.g2)("CommonPopup"),r=(0,a.g2)("DeletePopup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[n.tasks.length>0?((0,a.uX)(),(0,a.CE)("div",A,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.tasks,(t=>((0,a.uX)(),(0,a.Wv)(u,{key:t.id,task:t,onOpenEditPopup:n.openEditPopup,onOpenDeletePopup:n.openDeletePopup},null,8,["task","onOpenEditPopup","onOpenDeletePopup"])))),128))])):((0,a.uX)(),(0,a.CE)("div",D,"You have no tasks")),(0,a.bF)(o.eB,{name:"fade"},{default:(0,a.k6)((()=>[n.isEditPopupVisible?((0,a.uX)(),(0,a.Wv)(l,{key:0,onClosePopup:e[0]||(e[0]=t=>n.setIsEditPopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(c,{taskId:n.currentTaskId},null,8,["taskId"])])),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(o.eB,{name:"fade"},{default:(0,a.k6)((()=>[n.isDeletePopupVisible?((0,a.uX)(),(0,a.Wv)(l,{key:0,onClosePopup:e[1]||(e[1]=t=>n.setIsDeletePopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(r,{taskId:n.currentTaskId},null,8,["taskId"])])),_:1})):(0,a.Q3)("",!0)])),_:1})],64)}const w={class:"popup__content"};function S(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("div",{class:"popup",onMousedown:e[0]||(e[0]=(...t)=>o.clickOutside&&o.clickOutside(...t))},[(0,a.Lk)("div",w,[(0,a.RG)(t.$slots,"default",{},void 0,!0)])],32)}var x={name:"CommonPopup",setup(t,{emit:e}){const s=t=>{t.target.closest(".popup__content")||e("closePopup")};return{clickOutside:s}}};const F=(0,i.A)(x,[["render",S],["__scopeId","data-v-f78d12fe"]]);var O=F;const X={class:"task-action-popup"},B=(0,a.Lk)("h2",{class:"task-action-popup__title"},"Edit task",-1),W={class:"form"},K={class:"task-action-popup__buttons"};function M(t,e,s,n,i,p){const u=(0,a.g2)("CommonButton");return(0,a.uX)(),(0,a.CE)("div",X,[B,(0,a.Lk)("form",W,[(0,a.bo)((0,a.Lk)("input",{class:"task-action-popup__task-title",type:"text",placeholder:"Task title...","onUpdate:modelValue":e[0]||(e[0]=t=>n.taskTitle=t)},null,512),[[o.Jo,n.taskTitle]]),(0,a.bo)((0,a.Lk)("textarea",{class:"task-action-popup__task-description",placeholder:"Task description...","onUpdate:modelValue":e[1]||(e[1]=t=>n.taskDescription=t)},null,512),[[o.Jo,n.taskDescription]])]),(0,a.Lk)("div",K,[(0,a.bF)(u,{class:"task-action-popup__button",theme:"dark",onClick:e[2]||(e[2]=t=>n.setIsEditPopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.eW)(" Cancel ")])),_:1}),(0,a.bF)(u,{class:"task-action-popup__button",theme:"dark",onClick:n.editTask},{default:(0,a.k6)((()=>[(0,a.eW)(" Save ")])),_:1},8,["onClick"])])])}var R=s(782);function j(){const t=(0,R.Pj)(),e=(0,a.EW)((()=>t.state.popups.isCreatePopupVisible)),s=e=>t.commit("setIsCreatePopupVisible",e),o=(0,a.EW)((()=>t.state.popups.isEditPopupVisible)),n=e=>t.commit("setIsEditPopupVisible",e),i=(0,a.EW)((()=>t.state.popups.isDeletePopupVisible)),p=e=>t.commit("setIsDeletePopupVisible",e);return{isCreatePopupVisible:e,setIsCreatePopupVisible:s,isEditPopupVisible:o,setIsEditPopupVisible:n,isDeletePopupVisible:i,setIsDeletePopupVisible:p}}function z(){const t=(0,R.Pj)(),e=(0,a.EW)((()=>t.state.tasks.tasks)),s=e=>t.dispatch("createTask",e),o=e=>t.dispatch("updateTask",e),n=e=>t.dispatch("deleteTask",e);return(0,a.sV)((()=>{t.dispatch("setTasksFromLocalStorage")})),{tasks:e,createTaskAction:s,updateTaskAction:o,deleteTaskAction:n}}var J=s(144),U={name:"EditPopup",components:{CommonButton:C},props:{taskId:{type:Number,required:!0}},setup(t){const{setIsEditPopupVisible:e}=j(),{tasks:s,updateTaskAction:o}=z(),a=s.value.find((e=>e.id===t.taskId)),n=(0,J.KR)(a.title),i=(0,J.KR)(a.description),p=()=>{n.value&&(o({id:t.taskId,title:n,description:i}),e(!1))};return{setIsEditPopupVisible:e,taskTitle:n,taskDescription:i,editTask:p}}};const Q=(0,i.A)(U,[["render",M]]);var $=Q;const G={class:"task-action-popup"},H={class:"task-action-popup__title"},N={class:"task-action-popup__buttons"};function q(t,e,s,o,n,i){const p=(0,a.g2)("CommonButton");return(0,a.uX)(),(0,a.CE)("div",G,[(0,a.Lk)("h2",H,'Are you sure you want to delete task "'+(0,b.v_)(o.taskTitle)+'"?',1),(0,a.Lk)("div",N,[(0,a.bF)(p,{class:"task-action-popup__button",theme:"dark",onClick:e[0]||(e[0]=t=>o.setIsDeletePopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.eW)(" Cancel ")])),_:1}),(0,a.bF)(p,{class:"task-action-popup__button",theme:"dark",onClick:o.deleteTask},{default:(0,a.k6)((()=>[(0,a.eW)(" Delete ")])),_:1},8,["onClick"])])])}var Y={name:"DeletePopup",components:{CommonButton:C},props:{taskId:{type:Number,required:!0}},setup(t){const{setIsDeletePopupVisible:e}=j(),{tasks:s,deleteTaskAction:o}=z(),a=s.value.find((e=>e.id===t.taskId)).title,n=()=>{o(t.taskId),e(!1)};return{setIsDeletePopupVisible:e,taskTitle:a,deleteTask:n}}};const Z=(0,i.A)(Y,[["render",q]]);var tt=Z;const et={class:"tasks__item"},st={class:"tasks__item-title"},ot={class:"tasks__item-text"},at={class:"tasks__item-actions"};function nt(t,e,s,o,n,i){const p=(0,a.g2)("EditIcon"),u=(0,a.g2)("ActionButton"),c=(0,a.g2)("DeleteIcon");return(0,a.uX)(),(0,a.CE)("article",et,[(0,a.Lk)("h2",st,(0,b.v_)(s.task.title),1),(0,a.Lk)("p",ot,(0,b.v_)(s.task.description),1),(0,a.Lk)("div",at,[(0,a.bF)(u,{class:"tasks__item-action-button",theme:"dark",title:"Edit task",onClick:o.editTask},{default:(0,a.k6)((()=>[(0,a.bF)(p)])),_:1},8,["onClick"]),(0,a.bF)(u,{class:"tasks__item-action-button",theme:"dark",title:"Delete task",onClick:o.deleteTask},{default:(0,a.k6)((()=>[(0,a.bF)(c)])),_:1},8,["onClick"])])])}function it(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("button",{class:(0,b.C4)("action-button action-button--"+s.theme),type:"button"},[(0,a.RG)(t.$slots,"default",{},void 0,!0)],2)}var pt={name:"ActionButton",props:{theme:{type:String,default:"light"}}};const ut=(0,i.A)(pt,[["render",it],["__scopeId","data-v-5d4dd663"]]);var ct=ut;const lt={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 482.428 482.429","xml:space":"preserve"},rt=(0,a.Lk)("g",null,[(0,a.Lk)("g",null,[(0,a.Lk)("path",{d:"M381.163,57.799h-75.094C302.323,25.316,274.686,0,241.214,0c-33.471,0-61.104,25.315-64.85,57.799h-75.098\r\n          c-30.39,0-55.111,24.728-55.111,55.117v2.828c0,23.223,14.46,43.1,34.83,51.199v260.369c0,30.39,24.724,55.117,55.112,55.117\r\n          h210.236c30.389,0,55.111-24.729,55.111-55.117V166.944c20.369-8.1,34.83-27.977,34.83-51.199v-2.828\r\n          C436.274,82.527,411.551,57.799,381.163,57.799z M241.214,26.139c19.037,0,34.927,13.645,38.443,31.66h-76.879\r\n          C206.293,39.783,222.184,26.139,241.214,26.139z M375.305,427.312c0,15.978-13,28.979-28.973,28.979H136.096\r\n          c-15.973,0-28.973-13.002-28.973-28.979V170.861h268.182V427.312z M410.135,115.744c0,15.978-13,28.979-28.973,28.979H101.266\r\n          c-15.973,0-28.973-13.001-28.973-28.979v-2.828c0-15.978,13-28.979,28.973-28.979h279.897c15.973,0,28.973,13.001,28.973,28.979\r\n          V115.744z"}),(0,a.Lk)("path",{d:"M171.144,422.863c7.218,0,13.069-5.853,13.069-13.068V262.641c0-7.216-5.852-13.07-13.069-13.07\r\n          c-7.217,0-13.069,5.854-13.069,13.07v147.154C158.074,417.012,163.926,422.863,171.144,422.863z"}),(0,a.Lk)("path",{d:"M241.214,422.863c7.218,0,13.07-5.853,13.07-13.068V262.641c0-7.216-5.854-13.07-13.07-13.07\r\n          c-7.217,0-13.069,5.854-13.069,13.07v147.154C228.145,417.012,233.996,422.863,241.214,422.863z"}),(0,a.Lk)("path",{d:"M311.284,422.863c7.217,0,13.068-5.853,13.068-13.068V262.641c0-7.216-5.852-13.07-13.068-13.07\r\n          c-7.219,0-13.07,5.854-13.07,13.07v147.154C298.213,417.012,304.067,422.863,311.284,422.863z"})])],-1),kt=[rt];function dt(t,e){return(0,a.uX)(),(0,a.CE)("svg",lt,kt)}const mt={},bt=(0,i.A)(mt,[["render",dt]]);var _t=bt;const vt={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 528.899 528.899","xml:space":"preserve"},ft=(0,a.Lk)("g",null,[(0,a.Lk)("path",{d:"M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981\r\n        c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611\r\n        C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069\r\n        L27.473,390.597L0.3,512.69z"})],-1),Ct=[ft];function ht(t,e){return(0,a.uX)(),(0,a.CE)("svg",vt,Ct)}const Pt={},Tt=(0,i.A)(Pt,[["render",ht]]);var gt=Tt,Et={name:"TasksListItem",components:{ActionButton:ct,EditIcon:gt,DeleteIcon:_t},props:{task:{type:Object,required:!0}},setup(t,{emit:e}){const s=()=>{e("openEditPopup",t.task.id)},o=()=>{e("openDeletePopup",t.task.id)};return{editTask:s,deleteTask:o}}};const Vt=(0,i.A)(Et,[["render",nt],["__scopeId","data-v-2783a2e4"]]);var It=Vt,Lt={name:"TasksList",components:{TasksListItem:It,DeletePopup:tt,EditPopup:$,CommonPopup:O},setup(){const{isEditPopupVisible:t,setIsEditPopupVisible:e,isDeletePopupVisible:s,setIsDeletePopupVisible:o}=j(),{tasks:a}=z(),n=(0,J.KR)(0),i=t=>{n.value=t,e(!0)},p=t=>{n.value=t,o(!0)};return{isEditPopupVisible:t,setIsEditPopupVisible:e,isDeletePopupVisible:s,setIsDeletePopupVisible:o,tasks:a,currentTaskId:n,openEditPopup:i,openDeletePopup:p}}};const At=(0,i.A)(Lt,[["render",y],["__scopeId","data-v-447d6040"]]);var Dt=At;const yt={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 45.402 45.402","xml:space":"preserve"},wt=(0,a.Lk)("g",null,[(0,a.Lk)("path",{d:"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141\r\n        c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27\r\n        c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435\r\n        c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z"})],-1),St=[wt];function xt(t,e){return(0,a.uX)(),(0,a.CE)("svg",yt,St)}const Ft={},Ot=(0,i.A)(Ft,[["render",xt]]);var Xt=Ot;const Bt={class:"task-action-popup"},Wt=(0,a.Lk)("h2",{class:"task-action-popup__title"},"Create new task",-1),Kt={class:"form"},Mt={class:"task-action-popup__buttons"};function Rt(t,e,s,n,i,p){const u=(0,a.g2)("CommonButton");return(0,a.uX)(),(0,a.CE)("div",Bt,[Wt,(0,a.Lk)("form",Kt,[(0,a.bo)((0,a.Lk)("input",{class:"task-action-popup__task-title",type:"text",placeholder:"Task title...","onUpdate:modelValue":e[0]||(e[0]=t=>n.taskTitle=t)},null,512),[[o.Jo,n.taskTitle]]),(0,a.bo)((0,a.Lk)("textarea",{class:"task-action-popup__task-description",placeholder:"Task description...","onUpdate:modelValue":e[1]||(e[1]=t=>n.taskDescription=t)},null,512),[[o.Jo,n.taskDescription]])]),(0,a.Lk)("div",Mt,[(0,a.bF)(u,{class:"task-action-popup__button",theme:"dark",onClick:e[2]||(e[2]=t=>n.setIsCreatePopupVisible(!1))},{default:(0,a.k6)((()=>[(0,a.eW)(" Cancel ")])),_:1}),(0,a.bF)(u,{class:"task-action-popup__button",theme:"dark",onClick:n.createTask},{default:(0,a.k6)((()=>[(0,a.eW)(" Create ")])),_:1},8,["onClick"])])])}var jt={name:"CreatePopup",components:{CommonButton:C},setup(){const{setIsCreatePopupVisible:t}=j(),{tasks:e,createTaskAction:s}=z(),o=(0,J.KR)(""),a=(0,J.KR)(""),n=()=>{if(o.value){const n=e.value.length>0?e.value[e.value.length-1].id+1:1;s({id:n,title:o,description:a}),t(!1)}};return{setIsCreatePopupVisible:t,taskTitle:o,taskDescription:a,createTask:n}}};const zt=(0,i.A)(jt,[["render",Rt]]);var Jt=zt,Ut={name:"TasksPage",components:{CreatePopup:Jt,CommonPopup:O,CreateIcon:Xt,ActionButton:ct,TasksList:Dt},setup(){const{isCreatePopupVisible:t,setIsCreatePopupVisible:e}=j();return{isCreatePopupVisible:t,setIsCreatePopupVisible:e}}};const Qt=(0,i.A)(Ut,[["render",L],["__scopeId","data-v-532c1ce2"]]);var $t=Qt;const Gt=[{path:"/",component:T},{path:"/tasks",component:$t}],Ht=(0,l.aE)({history:(0,l.LA)("/TaskManager/"),routes:Gt});var Nt=Ht,qt={state(){return{isCreatePopupVisible:!1,isEditPopupVisible:!1,isDeletePopupVisible:!1}},mutations:{setIsCreatePopupVisible(t,e){t.isCreatePopupVisible=e},setIsEditPopupVisible(t,e){t.isEditPopupVisible=e},setIsDeletePopupVisible(t,e){t.isDeletePopupVisible=e}}},Yt=(s(4114),{state(){return{tasks:[]}},mutations:{SET_TASKS(t,e){t.tasks=e},CREATE_TASK(t,e){t.tasks.push(e)},UPDATE_TASK(t,e){const s=t.tasks.find((t=>t.id===e.id));s.title=e.title,s.description=e.description},DELETE_TASK(t,e){const s=t.tasks.find((t=>t.id===e)),o=t.tasks.indexOf(s);t.tasks.splice(o,1)}},actions:{setTasksFromLocalStorage({commit:t}){const e=JSON.parse(localStorage.getItem("tasks"));e&&e.length>0&&t("SET_TASKS",e)},updateLocalStorageTasks({state:t}){localStorage.setItem("tasks",JSON.stringify(t.tasks))},createTask({commit:t,dispatch:e},s){t("CREATE_TASK",s),e("updateLocalStorageTasks")},updateTask({commit:t,dispatch:e},s){t("UPDATE_TASK",s),e("updateLocalStorageTasks")},deleteTask({commit:t,dispatch:e},s){t("DELETE_TASK",s),e("updateLocalStorageTasks")}}}),Zt=(0,R.y$)({modules:{popups:qt,tasks:Yt}});(0,o.Ef)(c).use(Zt).use(Nt).mount("#app")}},e={};function s(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,o,a,n){if(!o){var i=1/0;for(l=0;l<t.length;l++){o=t[l][0],a=t[l][1],n=t[l][2];for(var p=!0,u=0;u<o.length;u++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](o[u])}))?o.splice(u--,1):(p=!1,n<i&&(i=n));if(p){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[o,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,i=o[0],p=o[1],u=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in p)s.o(p,a)&&(s.m[a]=p[a]);if(u)var l=u(s)}for(e&&e(o);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(l)},o=self["webpackChunktask_manager"]=self["webpackChunktask_manager"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(1876)}));o=s.O(o)})();
//# sourceMappingURL=app.fcc37d0c.js.map